<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experimento de Discriminaci√≥n Auditiva con Ruido</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Modo Pantalla Completa del Experimento -->
    <div id="fullscreenMode" class="fullscreen-mode" style="display: none;">
        <div class="fullscreen-header">
            <button id="exitFullscreenBtn" class="exit-fullscreen-btn" title="Salir de pantalla completa">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6L6 18M6 6l12 12"/>
                </svg>
            </button>
        </div>
        
        <div class="fullscreen-content">
            <div class="fullscreen-progress">
                <h2>Palabra <span id="fullscreenCurrentWord">1</span> de 15</h2>
                <div class="progress-bar-fullscreen">
                    <div id="fullscreenProgressFill" class="progress-fill"></div>
                </div>
            </div>

            <div class="fullscreen-timer">
                <p class="fullscreen-timer-label">Tiempo</p>
                <p class="fullscreen-timer-value"><span id="fullscreenTimer">0.000</span> s</p>
            </div>

            <div class="fullscreen-word">
                <p class="word-number-text">Palabra</p>
                <p class="word-number-large" id="fullscreenWordNumber">1</p>
            </div>

            <div class="fullscreen-controls">
                <button id="fullscreenPlayPauseBtn" class="fullscreen-btn fullscreen-btn-play">
                    <svg id="fullscreenPlayIcon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8 5v14l11-7z"/>
                    </svg>
                    <svg id="fullscreenPauseIcon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                        <rect x="6" y="5" width="4" height="14" rx="1"/>
                        <rect x="14" y="5" width="4" height="14" rx="1"/>
                    </svg>
                    <span id="fullscreenPlayPauseText">Reproducir</span>
                </button>
                
                <div class="fullscreen-response-buttons" id="fullscreenResponseButtons" style="display: none;">
                    <button id="fullscreenCorrectBtn" class="fullscreen-btn fullscreen-btn-correct">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M20 6L9 17l-5-5"/>
                        </svg>
                        <span>Correcto</span>
                    </button>
                    
                    <button id="fullscreenIncorrectBtn" class="fullscreen-btn fullscreen-btn-incorrect">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M18 6L6 18M6 6l12 12"/>
                        </svg>
                        <span>Incorrecto</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Interfaz Principal -->
    <div class="container" id="mainContainer">
        <header>
            <h1>Experimento de Discriminaci√≥n Auditiva</h1>
            <p class="subtitle">Medici√≥n de tiempo de respuesta con diferentes niveles de ruido</p>
        </header>

        <main>
            <section class="audio-selection">
                <h2>Configuraci√≥n del Experimento</h2>
                
                <div class="selection-grid">
                    <div class="form-group full-width">
                        <label for="participantName">Nombre del Participante:</label>
                        <input 
                            type="text" 
                            id="participantName" 
                            class="participant-input" 
                            placeholder="Ingresa el nombre del participante"
                            maxlength="100"
                        />
                    </div>

                    <div class="form-group">
                        <label for="listSelect">Lista de Palabras:</label>
                        <select id="listSelect" class="audio-selector">
                            <option value="">-- Selecciona una lista --</option>
                            <optgroup label="3 S√≠labas">
                                <option value="lista1-3sil">Lista 1 (3 s√≠labas)</option>
                                <option value="lista2-3sil">Lista 2 (3 s√≠labas)</option>
                            </optgroup>
                            <optgroup label="4 S√≠labas">
                                <option value="lista1-4sil">Lista 1 (4 s√≠labas)</option>
                                <option value="lista2-4sil">Lista 2 (4 s√≠labas)</option>
                            </optgroup>
                            <optgroup label="5 S√≠labas">
                                <option value="lista1-5sil">Lista 1 (5 s√≠labas)</option>
                                <option value="lista2-5sil">Lista 2 (5 s√≠labas)</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="noiseSelect">Nivel de Ruido:</label>
                    <select id="noiseSelect" class="audio-selector" disabled>
                        <option value="">-- Selecciona nivel de ruido --</option>
                        <option value="0">0% - Sin ruido</option>
                        <option value="33.33">33.33% - Muy bajo</option>
                        <option value="70.7946">70.79% - Significativamente menor</option>
                        <option value="79.4328">79.43% - Notablemente menor</option>
                        <option value="84.1395">84.14% - Moderadamente menor</option>
                        <option value="89.1255">89.13% - Ligeramente menor</option>
                        <option value="100">100% - Igual al volumen</option>
                        <option value="112.2018">112.20% - M√°s alto que palabras</option>
                        <option value="custom">üéõÔ∏è Personalizado</option>
                    </select>
                    </div>

                    <div class="form-group" id="customNoiseGroup" style="display: none;">
                        <label for="customNoiseInput">Porcentaje Personalizado (respecto a 100%):</label>
                        <div class="custom-noise-input-wrapper">
                            <input 
                                type="number" 
                                id="customNoiseInput" 
                                class="custom-noise-input" 
                                placeholder="Ej: 25.6, 99.2, 200"
                                min="0"
                                step="0.01"
                            />
                            <span class="custom-noise-suffix">%</span>
                        </div>
                        <small class="input-hint">Ingresa cualquier valor positivo. Ej: 25.6, 50, 150, 200</small>
                    </div>
                </div>

                <button id="startExperimentBtn" class="btn btn-primary btn-large" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                        <path d="M8 12h8M12 8v8"/>
                    </svg>
                    Iniciar Experimento en Pantalla Completa
                </button>
            </section>

            <section class="experiment-preview">
                <div class="preview-info">
                    <h2>Progreso del Experimento</h2>
                    <p class="progress-text">Palabra <span id="currentWord">0</span> de 15</p>
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill"></div>
                    </div>
                </div>

            <section class="results">
                <div class="results-header">
                    <h2>Resultados</h2>
                    <button id="copyResultsBtn" class="btn btn-copy" style="display: none;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                        </svg>
                        Copiar Resultados
                    </button>
                </div>
                <div id="wordTimes" class="word-times">
                    <p class="no-data">Los tiempos aparecer√°n aqu√≠ despu√©s de cada palabra</p>
                </div>
            </section>

            <section class="controls-section">
                <button id="resetButton" class="btn btn-tertiary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                        <path d="M21 3v5h-5"/>
                        <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
                        <path d="M3 21v-5h5"/>
                    </svg>
                    Reiniciar Experimento
                </button>
            </section>
        </main>

        <footer>
            <p>Experimento de Discriminaci√≥n Auditiva ¬© 2025</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
